<h2 align="center">PHP - Resim Listeleme (Database)</h2>
<h4 align="center">SORU 1: Aşağıda örneği verilen “final” isimli tablo 192.168.1.100 adresinde bulunan bir MySQL sunucusunda bulunmaktadır. Bu veritabanının adı “test”, kullanıcı adı “root” ve şifresi “123” olarak belirlenmiştir. Kendisine POST metodu ile `grup_id`’si gönderilen resimleri tek sütunlu bir tablo halinde alt alta gelecek şekilde oluşturan HTML/PHP kodunu yazınız. Her bir resmin tıklanmasında yine tablodaki ilgili alandaki linkin de çalışması gerekmektedir. (SQL ifadesi sadece `select * from final` şeklinde oluşturulacak, tüm tablo sorgulanacaktır)
SORU 2: Bir önceki soruda kullanılan veritabanı ve tablo yapısını dikkate alarak, her bir `grup_id` için kaç adet resim bulunduğunu hesaplayan ve bu bilgileri grup_id adına sahip cookie’lere kaydeden PHP kodunu yazınız.</h4>


---

<div align="center">

| id | grup_id | resim_path | resim_adi | link |
|----|---------|------------|-----------|------|
| 1  | 1       | /images/   | abc.jpg   | https://www.abc.com |
| 2  | 1       | /images/   | def.jpg   | https://www.def.com |
| …  | …       | …          | …         | …    |

</div>

---

```php
<form method="POST">
    Grup ID: <input type="text" name="grup_id">
    <input type="button" value="Gönder">
</form>

<?php
    $con = new mysqli("192.168.1.100", "root", "123", "test");
    if ($con->connect_error) die("Hata");
    $res = $con->query("SELECT * FROM final");
    $rows = [];
    while ($row = $res->fetch_assoc()) {
        $rows[] = $row;
    }
    $con->close();
    
    $grup_id = $_POST['grup_id'] ?? '';

    echo '<table border="1">';
        foreach ($rows as $row) {
            if ($row['grup_id'] == $grup_id) {
			        printf(
			            '<tr>
			                <td>
			                    <a href="%s" target="_blank">
			                        <img src="%s%s">
			                    </a>
			                </td>
			            </tr>',
			            $row['link'], $row['resim_path'], $row['resim_adi']);
            }
        }
    echo '</table>';  
?>
```

```php
<?php
    // ------------------------------
    $gruplar = [];
    foreach ($rows as $row) {
        $id = $row['grup_id'];
        $gruplar[$id] = ($gruplar[$id] ?? 0) + 1;
    }
    foreach ($gruplar as $id => $adet)
        setcookie("grup_$id", $adet, time() + 3600);
    // ------------------------------
    session_start();
    $gruplar = [];
    foreach ($rows as $row) {
        $id = $row['grup_id'];
        $gruplar[$id] = ($gruplar[$id] ?? 0) + 1;
    }
    $_SESSION['gruplar'] = $gruplar;
?>
```

---

<br>
<p align="center">
  <a href="21.md">
    <img 
      src="https://img.shields.io/badge/➜%20DEVAM%20ET-0A2540?style=for-the-badge&logoColor=white" 
      width="125"
      alt="Devam Et"
    />
  </a>
</p>